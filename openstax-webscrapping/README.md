# OpenStax Biology Textbook Scraper & Extractor

This project automates the extraction and cleaning of biology textbook content from OpenStax using Python, Selenium, BeautifulSoup, and Pandas. The workflow consists of two main stages: scraping and extraction/cleaning.

## 1. Scraping with Selenium & BeautifulSoup

- **Selenium** is used to interact with dynamic web pages and extract the chapter map (table of contents) for each textbook. This allows us to programmatically discover all chapters and sections, even when the navigation is hidden or requires clicks to expand.
- **BeautifulSoup** is used to parse the HTML content of each section page. It extracts:
  - Section titles and IDs
  - Learning objectives
  - Figures (images, captions, alt text)
  - Content blocks (headings, paragraphs, lists)
  - Key terms and glossary entries
- The scraper saves each chapter's data as a structured JSON file and also processes it into a multimodal RAG (Retrieval-Augmented Generation) format, outputting a CSV for downstream use.

## 2. Cleaning & Markdown Extraction

- The `chapter-extract.py` script reads the RAG CSV files generated by the scraper.
- It extracts and cleans the content, organizing it into Markdown files for each chapter and section.
- The script adds YAML-like frontmatter for metadata, deduplicates headings and figures, and formats images and text for easy consumption.
- Anchor Markdown files are also generated for hierarchical navigation.

## How to Run

1. **Install dependencies:**
   - Python packages: `selenium`, `beautifulsoup4`, `pandas`, `requests`, `Pillow`
   - ChromeDriver for Selenium (ensure it's in your PATH)
2. **Run the scraper:**
   - Execute `openstax-scrapping-chapterwise.py` to download and process textbook chapters.
3. **Run the extractor:**
   - Execute `chapter-extract.py` to convert the processed CSVs into clean Markdown files in the `extracted/` folder.

## Output

- Raw chapter data: `data/<book>/<chapter>.json`
- RAG CSVs: `data/<book>/<chapter>_rag.csv`
- Clean Markdown: `extracted/<chapter>.md` and `extracted/<chapter>_anchor.md`

## Notes

- The workflow is robust to changes in OpenStax's HTML structure due to the use of dynamic navigation extraction and flexible content parsing.
- The cleaning script ensures Markdown output is well-structured and ready for further use, such as building study guides or feeding into RAG models.

---

**Tools Used:**

- Selenium (for browser automation)
- BeautifulSoup (for HTML parsing)
- Pandas (for data manipulation)
- Requests (for HTTP requests)
- Pillow (for image handling)

See the scripts for implementation details and customization options.

<!-- pip install beautifulsoup4 numpy pillow requests selenium pandas -->
